{"version":3,"sources":["uni-app:///main.js","webpack:///F:/小程序资料/代码资料/09/代码资料/小U商城资料大全/小U商城/shop-u前台静态页面/shop-u/pages/cart/cart.vue?52c3","webpack:///F:/小程序资料/代码资料/09/代码资料/小U商城资料大全/小U商城/shop-u前台静态页面/shop-u/pages/cart/cart.vue?f28e","webpack:///F:/小程序资料/代码资料/09/代码资料/小U商城资料大全/小U商城/shop-u前台静态页面/shop-u/pages/cart/cart.vue?56a9","webpack:///F:/小程序资料/代码资料/09/代码资料/小U商城资料大全/小U商城/shop-u前台静态页面/shop-u/pages/cart/cart.vue?e6aa","uni-app:///pages/cart/cart.vue","webpack:///F:/小程序资料/代码资料/09/代码资料/小U商城资料大全/小U商城/shop-u前台静态页面/shop-u/pages/cart/cart.vue?9045","webpack:///F:/小程序资料/代码资料/09/代码资料/小U商城资料大全/小U商城/shop-u前台静态页面/shop-u/pages/cart/cart.vue?4e3e"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,yF;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACa;;;AAGhE;AACwM;AACxM,gBAAgB,6MAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA6wB,CAAgB,8wBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsEjyB,4C,CAJA,G,YAAA,G,CACA,I,YAAA,I,CACA,Q,YAAA,Q,CACA,O,YAAA,O;AAEA,mB;AACA;AACA,MADA,kBACA;AACA;AACA,mBADA,EACA;AACA,kBAFA,EAEA;AACA,kBAHA;AAIA,qBAJA;AAKA,gBALA,EAKA;AACA,kBANA,CAMA;AANA;AAQA,GAVA;AAWA;AACA,QAZA,oBAYA;;;;;AAKA,kBALA,CAEA,WAFA,mBAEA,WAFA,CAGA,QAHA,mBAGA,QAHA,CAIA,MAJA,mBAIA,MAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GA3BA;AA4BA;AACA;AACA,UADA,oBACA;AACA,yBADA,CACA;AACA,uBAFA,CAEA;AACA,sBAHA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA;AAOA;AACA;AACA;AACA;AACA,kBADA;AAEA,kCAFA;;AAIA,OANA,MAMA;AACA;AACA;AACA,kBADA;;AAGA;AACA;AACA,8BADA;AAEA,0BAFA;;AAIA,KA7BA,EA7BA;;AA4DA;AACA;AACA,YAFA,sBAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA;AACA,gEADA;;AAGA,KAdA;AAeA;AACA,gBAhBA,wBAgBA,CAhBA,EAgBA,KAhBA,EAgBA;AACA;AACA;AACA,KAnBA;AAoBA;AACA,WArBA,mBAqBA,KArBA,EAqBA,EArBA,EAqBA;AACA;AACA,sBADA;AAEA,0BAFA;AAGA;AACA;AACA;AACA;AACA,2DADA;AAEA;AACA,wBADA,EAFA;;AAKA,8BALA;AAMA,oCANA;AAOA;AACA;AACA,iBATA;;AAWA,aAZA;AAaA,gBAbA,CAaA;AACA;AACA;AACA;AACA,eAHA,MAGA;AACA;AACA;AACA,eAHA,MAGA;AACA;AACA;AACA,aAvBA;AAwBA;AACA,SA9BA;;AAgCA,KAtDA;AAuDA;AACA,aAxDA,qBAwDA,IAxDA,EAwDA,KAxDA,EAwDA,EAxDA,EAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA,mDADA;AAEA;AACA,kBADA;AAEA,sBAFA,EAFA;;AAMA,wBANA;AAOA,+BAPA;AAQA;AACA;AACA,WAVA;;AAYA,OAbA;AAcA,UAdA,CAcA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;;AAEA,OAxBA;AAyBA,KA5FA;AA6FA;AACA,aA9FA,qBA8FA,CA9FA,EA8FA,KA9FA,EA8FA;AACA;AACA;AACA;AACA;AACA;AACA,KApGA;AAqGA;AACA,aAtGA,qBAsGA,CAtGA,EAsGA;AACA;AACA;AACA;AACA,OAFA;AAGA,KA3GA;AA4GA;AACA,YA7GA,sBA6GA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAvHA;AAwHA,WAxHA,qBAwHA;AACA;AACA;AACA,mDADA;AAEA;AACA,oCADA,EAFA;;AAKA,+BALA;AAMA;AACA;AACA,WARA;;AAUA,OAXA;AAYA,UAZA,CAYA;AACA;AACA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAHA,CAGA;AACA,aAJA;AAKA;AACA;AACA,SAfA,MAeA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA,OAnCA;AAoCA,KA7JA,EA5DA,E;;;;;;;;;;;;;ACxEA;AAAA;AAAA;AAAA;AAAqmC,CAAgB,mkCAAG,EAAC,C;;;;;;;;;;;ACAznC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/cart/cart.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/cart/cart.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./cart.vue?vue&type=template&id=0f00adf4&\"\nvar renderjs\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/cart/cart.vue\"\nexport default component.exports","export * from \"-!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=template&id=0f00adf4&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\" v-if=\"buffer\">\r\n\t\t<view class=\"top\">\r\n\t\t\t<scroll-view class=\"scroll-view_H\" scroll-x=\"true\" :scroll-left=\"item.left\" v-for=\"(item,index) in cartlist\"\r\n\t\t\t\t:key='index' @scroll=\"changeScroll($event,index)\">\r\n\t\t\t\t<view class=\"cartInfo\" id=\"demo1\">\r\n\t\t\t\t\t<!-- 明日来写购物车基本信息 -->\r\n\t\t\t\t\t<view class=\"cartInfochild\">\r\n\t\t\t\t\t\t<!-- 选择框 -->\r\n\t\t\t\t\t\t<view class=\"cartInfo_switch common\">\r\n\t\t\t\t\t\t\t<!-- 点击当前商品 -->\r\n\t\t\t\t\t\t\t<switch type=\"checkbox\" :checked=\"item.status\" @change=\"changeOne($event,index)\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 图片 -->\r\n\t\t\t\t\t\t<view class=\"cartInfo_image common\">\r\n\t\t\t\t\t\t\t<image :src=\"item.img\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<!-- 信息 -->\r\n\t\t\t\t\t\t<view class=\"cartInfo_info\">\r\n\t\t\t\t\t\t\t<label style=\"font-size: 26rpx;\">{{item.goodsname}}</label>\r\n\t\t\t\t\t\t\t<label style=\"font-size: 24rpx; color: #ccc;\">规格：不错的商品</label>\r\n\t\t\t\t\t\t\t<label style=\"color: red;\">￥{{item.price}}</label>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 加减数量 -->\r\n\t\t\t\t\t\t<view class=\"cartInfo_num\">\r\n\t\t\t\t\t\t\t<view class=\"cartInfo_num_child\">\r\n\t\t\t\t\t\t\t\t<label @click=\"changeNum(1,index,item.id)\">-</label>\r\n\t\t\t\t\t\t\t\t<label>{{item.num}}</label>\r\n\t\t\t\t\t\t\t\t<label @click=\"changeNum(2,index,item.id)\">+</label>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cartDel\" id=\"demo2\" @click=\"cartdel(index,item.id)\">\r\n\t\t\t\t\t<label for=\"\">删除</label>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 底部 -->\r\n\t\t<view class=\"foot\">\r\n\t\t\t<view class=\"footd1\">\r\n\t\t\t\t<switch type=\"checkbox\" :checked=\"allStatus\" @change=\"changeAll\" />\r\n\t\t\t\t<label>全选</label>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"footd2\">\r\n\t\t\t\t<view class=\"footd2sp1\">总计：<label style=\"color: red;\">{{jisuan.countMoney}}</label></view>\r\n\t\t\t\t<label class=\"footd2sp2\">不含运费，已优惠￥0.00</label>\r\n\t\t\t</view>\r\n\t\t\t<!-- 跳到提交订单，结算页面 -->\r\n\t\t\t<view class=\"footd3\" @click=\"addorder\">\r\n\t\t\t\t<!-- 被选中的商品的个数 -->\r\n\t\t\t\t<label>去结算({{jisuan.countNum}}件)</label>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t</view>\r\n\t<view v-else>\r\n\t\t<image src=\"/static/kk.jpg\" mode=\"widthFix\"></image>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tlet {\r\n\t\ttip,\r\n\t\tload,\r\n\t\thideload,\r\n\t\tisLogin\r\n\t} = require('@/utils/tip.js')\r\n\tlet app = getApp()\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tscrollLeft: 0, //默认横向滚动 0,\r\n\t\t\t\tbuffer: true, //检测购物车是否有数据\r\n\t\t\t\tcartlist: [],\r\n\t\t\t\tallStatus: true,\r\n\t\t\t\theader: {}, //初始化header\r\n\t\t\t\tuserinfo: {}, //初始化用户基本信息\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 页面显示时\r\n\t\tonShow() {\r\n\t\t\tlet {\r\n\t\t\t\tloginStatus,\r\n\t\t\t\tuserinfo,\r\n\t\t\t\theader\r\n\t\t\t} = app.globalData\r\n\t\t\tthis.header = header;\r\n\t\t\tthis.userinfo = userinfo;\r\n\t\t\tif (!loginStatus) {\r\n\t\t\t\tisLogin(app);\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tload()\r\n\t\t\t//获取购物车数据\r\n\t\t\tthis.getCart()\r\n\t\t},\r\n\t\t//计算属性 动态计算商品的金额和数量\r\n\t\tcomputed: {\r\n\t\t\tjisuan() {\r\n\t\t\t\tlet countMoney = 0 //总支付金额\r\n\t\t\t\tlet countNum = 0 //统计商品的单品数量\r\n\t\t\t\tlet cartNum = 0 //购物车右上角角标\r\n\t\t\t\tthis.cartlist.forEach((item) => {\r\n\t\t\t\t\tif (item.status) {\r\n\t\t\t\t\t\tcountMoney += parseInt(item.num) * parseFloat(item.price)\r\n\t\t\t\t\t\tcountNum += 1\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcartNum += parseInt(item.num)\r\n\t\t\t\t})\r\n\t\t\t\t//生成购物车右上角角标内容\r\n\t\t\t\tif (cartNum > 0) {\r\n\t\t\t\t\tthis.buffer = true\r\n\t\t\t\t\tuni.setTabBarBadge({\r\n\t\t\t\t\t\tindex: 1,\r\n\t\t\t\t\t\ttext: cartNum.toString()\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.buffer = false\r\n\t\t\t\t\tuni.removeTabBarBadge({\r\n\t\t\t\t\t\tindex: 1\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcountMoney,\r\n\t\t\t\t\tcountNum\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//定义跳转到订单确认页面的方法\r\n\t\t\taddorder(){\r\n\t\t\t\t//传递用户选中的购物车商品信息\r\n\t\t\t\tlet data = []\r\n\t\t\t\tthis.cartlist.forEach((item)=>{\r\n\t\t\t\t\tif(item.status){\r\n\t\t\t\t\t\tdata.push(item)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t//跳转到订单确认页面\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'../confirm/confirm?orders='+JSON.stringify(data)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//实时监听滚动视图左滑\r\n\t\t\tchangeScroll(e,index){\r\n\t\t\t\tconsole.log(e,index)\r\n\t\t\t\tthis.cartlist[index].left = e.detail.scrollLeft\r\n\t\t\t},\r\n\t\t\t//定义删除操作\r\n\t\t\tcartdel(index, id) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '是否要删除',\r\n\t\t\t\t\tcontent: '删除后不可恢复',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tnew Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\t\t\turl: 'http://localhost:3000/api/cartdelete',\r\n\t\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\t\t\t\theader: this.header,\r\n\t\t\t\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\t\t\tresolve(res.data)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\t\t\t\t//清除页面节点\r\n\t\t\t\t\t\t\t\t\t\tthis.cartlist.splice(index, 1)\r\n\t\t\t\t\t\t\t\t\t} else if (res.code == 403) {\r\n\t\t\t\t\t\t\t\t\t\tisLogin(app);\r\n\t\t\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttip('请重试')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//定义++--操作\r\n\t\t\tchangeNum(type,index, id) {\r\n\t\t\t\tif (type == 1) { //--操作\r\n\t\t\t\t\tif (this.cartlist[index].num == 1) {\r\n\t\t\t\t\t\ttip('请左滑删除')\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\t--this.cartlist[index].num\r\n\t\t\t\t} else { //++操作++\r\n\t\t\t\t\t++this.cartlist[index].num\r\n\t\t\t\t}\r\n\t\t\t\t//对数据表进行操作\r\n\t\t\t\tnew Promise((resolve, reject) => {\r\n\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\turl: 'http://localhost:3000/api/cartedit',\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\ttype\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\theader: this.header,\r\n\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\tresolve(res.data)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t} else if (res.code == 403) {\r\n\t\t\t\t\t\t\tisLogin(app);\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttip('请重试')\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//定义单选\r\n\t\t\tchangeOne(e, index) {\r\n\t\t\t\tlet nowStatus = e.detail.value\r\n\t\t\t\t//修改改数据下的status状态值\r\n\t\t\t\tthis.cartlist[index].status = nowStatus\r\n\t\t\t\t//同步检测全选状态\r\n\t\t\t\tthis.checkAll()\r\n\t\t\t},\r\n\t\t\t//全选\r\n\t\t\tchangeAll(e) {\r\n\t\t\t\tthis.allStatus = e.detail.value\r\n\t\t\t\tthis.cartlist.forEach((item) => {\r\n\t\t\t\t\titem.status = this.allStatus\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//全选状态的方法\r\n\t\t\tcheckAll() {\r\n\t\t\t\t//findindex\r\n\t\t\t\tlet index = this.cartlist.findIndex((item) => {\r\n\t\t\t\t\treturn item.status == false\r\n\t\t\t\t})\r\n\t\t\t\tif (index != -1) {\r\n\t\t\t\t\tthis.allStatus = false\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.allStatus = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetCart() {\r\n\t\t\t\tnew Promise((resolve, reject) => {\r\n\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\turl: 'http://localhost:3000/api/cartlist',\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tuid: this.userinfo.uid,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\theader: this.header,\r\n\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\tresolve(res.data)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tif (res.list == null) {\r\n\t\t\t\t\t\t\t\tthis.buffer = false\r\n\t\t\t\t\t\t\t\thideload()\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.buffer = true\r\n\t\t\t\t\t\t\t\tlet data = res.list\r\n\t\t\t\t\t\t\t\t//循环处理购物车数据\r\n\t\t\t\t\t\t\t\tdata.forEach((item) => {\r\n\t\t\t\t\t\t\t\t\titem.img = this.$URL + item.img\r\n\t\t\t\t\t\t\t\t\titem.status = true\r\n\t\t\t\t\t\t\t\t\titem.left = 0 //追加左滑起点位置\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tthis.cartlist = data\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if (res.code == 403) {\r\n\t\t\t\t\t\t\t//提示登录\r\n\t\t\t\t\t\t\tisLogin(app);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttip('请重试')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\thideload()\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t@import url(\"../../common/css/cart.css\");\r\n\r\n\t.cartInfo_image_img {\r\n\t\twidth: 120rpx;\r\n\t\theight: 120rpx;\r\n\t}\r\n</style>\n","import mod from \"-!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\下载\\\\HBuilderX.3.2.9.20210927.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1644470600025\n      var cssReload = require(\"E:/下载/HBuilderX.3.2.9.20210927.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}